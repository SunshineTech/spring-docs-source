[[faq]]
[appendix]
= 常问问题

== 普通

[qanda]
我想获得有关在 `JpaRepository` 中哪些方法被调用的更详细的日志信息。我怎样才能获得它们？::
  您可以使用Spring提供的 `CustomizableTraceInterceptor`：
+
[source, xml]
----
<bean id="customizableTraceInterceptor" class="
  org.springframework.aop.interceptor.CustomizableTraceInterceptor">
  <property name="enterMessage" value="Entering $[methodName]($[arguments])"/>
  <property name="exitMessage" value="Leaving $[methodName](): $[returnValue]"/>
</bean>

<aop:config>
  <aop:advisor advice-ref="customizableTraceInterceptor"
    pointcut="execution(public * org.springframework.data.jpa.repository.JpaRepository+.*(..))"/>
</aop:config>
----

== 基础设施

[qanda]
目前，我已经基于 `HibernateDaoSupport` 实现了存储库层。我使用Spring的 `AnnotationSessionFactoryBean` 创建了 `SessionFactory`。如何在此环境中使用Spring Data存储库？::
  您必须使用 `HibernateJpaSessionFactoryBean` 替换 `AnnotationSessionFactoryBean`，如下所示：
+
.从HibernateEntityManagerFactory查找SessionFactory
====
[source, xml]
----
<bean id="sessionFactory" class="org.springframework.orm.jpa.vendor.HibernateJpaSessionFactoryBean">
  <property name="entityManagerFactory" ref="entityManagerFactory"/>
</bean>
----
====

== 审计

[qanda]
我想使用Spring Data JPA审计功能，但我的数据库已配置为在实体上设置修改和创建日期。如何防止Spring Data以编程方式设置日期。::
  将 `auditing` 命名空间元素的 `set-dates` 属性设置为false。

